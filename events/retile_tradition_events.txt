namespace = tradition

# Gain Upgraded Network
event = {
	id = tradition.1
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		every_owned_starbase = {
			if = {
				limit = { owner = { has_tradition = tr_expansion_courier_network } }
				set_starbase_building = {
					slot = 0
					building = courier_network
				}
			} else_if = {
				limit = { owner = { has_tradition = tr_domination_workplace_motivators } }
				set_starbase_building = {
					slot = 0
					building = patrol_network
				}
			}
		}
	}
}

# On Starbase Built: Gatekeeper
ship_event = {
	id = tradition.2
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			planet_event = {
				id = tradition.3
				days = 1
			}
		}
	}
}

# On Starbase Built: Add Network
planet_event = {
	id = tradition.3
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		solar_system.starbase = {
			if = {
				limit = { owner = { has_tradition = tr_expansion_courier_network } }
				set_starbase_building = {
					slot = 0
					building = courier_network
				}
			} else_if = {
				limit = { owner = { has_tradition = tr_domination_workplace_motivators } }
				set_starbase_building = {
					slot = 0
					building = patrol_network
				}
			} else = {
				set_starbase_building = {
					slot = 0
					building = default_network
				}
			}
		}
	}
}

# On Starbase Trasnfer: Replace Network
ship_event = {
	id = tradition.4
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		solar_system.starbase = {
			if = {
				limit = { owner = { has_tradition = tr_expansion_courier_network } }
				set_starbase_building = {
					slot = 0
					building = courier_network
				}
			} else_if = {
				limit = { owner = { has_tradition = tr_domination_workplace_motivators } }
				set_starbase_building = {
					slot = 0
					building = patrol_network
				}
			} else = {
				set_starbase_building = {
					slot = 0
					building = default_network
				}
			}
		}
	}
}
