##########################################################################
# Empire Policies
#
# #####
#
# AI:
# Base AI-weight is 100, if unchanged
# AI will grab whatever policy-option has the highest weight
#
# #####
#
##########################################################################

piracy = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}
	
	option = {
		name = "piracy_hostile"
		
		policy_flags = { piracy_hostile }
		
		modifier = { }
		on_enabled = { 
			hidden_effect = {
				if = {
					limit = { has_country_flag = piracy_broken_event }
					remove_country_flag = piracy_broken_event
				}
				every_country = {
					limit = { is_country_type = pirate }
					set_faction_hostility = {
						set_hostile = yes
						set_neutral = no
						target = root
					}
				}
			}
		}
		
		AI_weight = {
			factor = 2
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_militarist"
					has_ethic = "ethic_fanatic_militarist"
				}
			}
		}
	}
	
	option = {
		name = "piracy_peaceful"
		
		potential = { 
			has_technology = tech_adaptive_bureaucracy
			NOT = { has_valid_civic = civic_fanatic_purifiers }
		}
		
		policy_flags = { piracy_peaceful }
		
		modifier = { trade_value_mult = -0.25 }
		
		on_enabled = {
			hidden_effect = {
				if = {
					limit = { has_country_flag = piracy_broken_event }
					remove_country_flag = piracy_broken_event
				}
				every_country = {
					limit = { is_country_type = pirate }
					set_faction_hostility = {
						set_hostile = no
						set_neutral = yes
						target = root
					}
				}
			}
		}
		
		AI_weight = {
			factor = 1
			modifier = {
				factor = 5
				OR = {
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
				}
			}
		}
	}
	
	option = {
		name = "piracy_broken"
		
		potential = {
			has_country_flag = piracy_broken_event
		}
		
		modifier = { }
		
		AI_weight = {
			factor = 0
		}
	}
}

war_philosophy = {

	potential = { 
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}

	allow = { is_at_war = no }
	
	option = {
		name = "unrestricted_wars"
		
		policy_flags = {
			unrestricted_wars
		}
		
		potential = {
			NOR = { 
				has_valid_civic = civic_anarchist
				has_valid_civic = civic_pacifist
				has_valid_civic = civic_inwards_perfection
			}
		}
		
		on_enabled = {
			hidden_effect = {
				set_timed_country_flag = { flag = activate_unrestricted_wars days = 30 }
				country_event = { id = retile_mandate.4 }
			}
		}
		
		AI_weight = {
			modifier = {
				factor = 10
				OR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}
			}
		}
	}
	
	option = {
		name = "liberation_wars"
		
		policy_flags = {
			liberation_wars
		}
		
		potential = {
			NOR = { 
				has_ethic = ethic_gestalt_consciousness
				has_valid_civic = civic_pacifist
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_inwards_perfection
			}
		}

		on_enabled = {
			hidden_effect = {
				check_casus_belli_valid = {
					type = cb_ideology
				}
			}
		}

		on_disabled = {
			hidden_effect = {
				check_casus_belli_valid = {
					type = cb_ideology
				}
			}
		}
		
		AI_weight = {
			modifier = {
				factor = 10
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
				has_ethic = "ethic_egalitarian"
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
				}
			}
		}
	}
	
	option = {
		name = "no_wars"
		
		policy_flags = {
			no_wars
		}

		potential = {
			NOR = {
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = "civic_machine_terminator"
			}
		}
		
		on_enabled = {
			hidden_effect = {
				set_timed_country_flag = { flag = activate_no_wars days = 30 }
				country_event = { id = retile_mandate.4 }
			}
		}
		
		AI_weight = {
			modifier = {
				factor = 5
				OR = { 
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}
			}
		}
	}
}

war_doctrine = {
	potential = {
		is_country_type = default
		has_technology = tech_doctrine_fleet_size_1
	}

	option = {
		name = "defense_in_depth_doctrine"
		
		policy_flags = { defense_in_depth_doctrine }	
		modifier = {
			ship_home_territory_fire_rate_mult = 0.10
		}
		
		AI_weight = {
			factor = 1
		}		
	}
	
	option = {
		name = "hit_and_run_doctrine"
		valid = { has_technology = tech_doctrine_fleet_size_2 }
		
		policy_flags = { hit_and_run_doctrine }
		modifier = {
			ship_disengage_chance_mult = 0.33
			ship_emergency_ftl_mult = -0.25
		}	

		AI_weight = {
			factor = 10
		}		
	}	
	
	option = {
		name = "rapid_deployment_doctrine"
		valid = { has_technology = tech_doctrine_fleet_size_3 }
		
		policy_flags = { rapid_deployment_doctrine }	
		modifier = {
			ship_speed_mult = 0.25
			ship_weapon_range_mult = 0.10
		}
		
		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { is_preferred_weapons = weapon_type_explosive }
			}			
		}		
	}
	
	option = {
		name = "no_retreat_doctrine"	
		
		policy_flags = { no_retreat_doctrine }
		valid = { has_technology = tech_doctrine_fleet_size_4 }
		
		potential = { NOT = { has_valid_civic = civic_pacifist } }
		
		modifier = {
			ship_disengage_chance_reduction = 1
			ship_emergency_ftl_min_days_mult = 0.5
			ship_fire_rate_mult = 0.33
		}	

		AI_weight = {
			factor = 10			
			modifier = {
				factor = 2
				OR = { 
					has_ethic = "ethic_militarist"
				}
			}
			modifier = {
				factor = 100
				NOR = {
					has_ai_personality = honorbound_warriors
					has_ai_personality = devouring_swarm
				}
			}
		}
	}
}

orbital_bombardment = {

	potential = {
		OR = {
			is_country_type = default
			is_country_type = vol
		}
		NOR = { 
			has_ethic = "ethic_gestalt_consciousness"
		}
	}
	
	option = {
		name = "orbital_bombardment_selective"
		
		potential = { NOT = { has_valid_civic = civic_fanatic_purifiers } }
		
		policy_flags = { orbital_bombardment_selective }
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
					has_ethic = "ethic_xenophile"
					has_ethic = "ethic_fanatic_xenophile"
				}
			}
			modifier = {
				factor = 0
				NOR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_xenophobe"
					has_ethic = "ethic_authoritarian"
					has_ethic = "ethic_fanatic_authoritarian"
				}
			}
		}
	}
	option = {
		name = "orbital_bombardment_indiscriminate"
		
		policy_flags = { orbital_bombardment_indiscriminate }
		
		potential = { NOT = { has_valid_civic = civic_pacifist } }
		
		modifier = {}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_militarist"
					has_ethic = "ethic_fanatic_militarist"
					has_ethic = "ethic_materialist"
					has_ethic = "ethic_fanatic_materialist"
				}
			}
		}
	}
	option = {
		name = "orbital_bombardment_armageddon"
		policy_flags = { orbital_bombardment_armageddon }
		
		potential = { has_tradition = tr_supremacy_great_game }
		
		AI_weight = {
			modifier = {
				factor = 2
				NOR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_pacifist"
				}
			}
			modifier = {
				factor = 0
				NOR = {
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
					has_ethic = "ethic_xenophile"
					has_ethic = "ethic_fanatic_xenophile"
					has_ethic = "ethic_spiritualist"
					has_ethic = "ethic_fanatic_spiritualist"
					has_ethic = "ethic_egalitarian"
					has_ethic = "ethic_fanatic_egalitarian"
				}
			}
			modifier = {
				factor = 10
				OR = {
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_machine_terminator
					has_valid_civic = civic_warrior_culture
					AND = {
						has_origin = origin_post_apocalyptic
						has_ethic = "ethic_fanatic_militarist"
					}
				}
			}
		}
	}
}

criminal = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}
	
	option = {
		name = "criminal_common_law"
		
		policy_flags = { criminal_common_law }
		
		on_enabled = {
			hidden_effect = {
				set_timed_country_flag = { flag = activate_common_law days = 30 }
				country_event = { id = retile_mandate.4 }
			}
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}
		}
	}
	
	option = {
		name = "criminal_state_police"
		
		modifier = { }
		
		potential = {
			NOT = { has_valid_civic = civic_anarchist }
			NOT = { has_authority = auth_corporate }
		}
		
		policy_flags = { criminal_state_police }
		
		on_enabled = {
			hidden_effect = {
				set_timed_country_flag = { flag = activate_state_police days = 30 }
				country_event = { id = retile_mandate.4 }
			}
		}
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}		
		}
	}
	
	option = {
		name = "criminal_corporate_security"
		
		modifier = { }
		
		potential = {
			NOT = { has_valid_civic = civic_anarchist }
			has_authority = auth_corporate
		}
		
		policy_flags = { criminal_state_police }
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}		
		}
	}
	
	option = {
		name = "criminal_private_police"
		
		modifier = { }
		
		potential = {
			NOT = { has_valid_civic = civic_anarchist }
		}
		
		policy_flags = { criminal_private_police }
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}
			}		
		}
	}
	
	option = {
		name = "criminal_military_police"
		
		modifier = { }
		
		potential = {
			NOT = { 
				has_valid_civic = civic_anarchist
				has_valid_civic = civic_pacifist
			}
		}
		
		policy_flags = { criminal_military_police }
		
		on_enabled = {
			hidden_effect = {
				set_timed_country_flag = { flag = activate_military_police days = 30 }
				country_event = { id = retile_mandate.4 }
			}
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}
			}
		}
	}
}

environmental = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}
	
	option = {
		name = "environmental_deregulation"
		
		modifier = {
			planet_jobs_produces_mult = 0.10
			planet_jobs_upkeep_mult = -0.10
		}
		
		potential = {
			NOT = { has_valid_civic = civic_shared_burden }
			NOT = { has_valid_civic = civic_anarchist }
		}
		
		policy_flags = {
			environmental_deregulation
		}
		
		on_enabled = {
			hidden_effect = {
				set_timed_country_flag = { flag = activate_environmental_deregulation days = 30 }
				country_event = { id = retile_mandate.4 }
			}
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}
			}			
		}
	}
	
	option = {
		name = "environmental_regulation"
		
		policy_flags = {
			environmental_regulation
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
				}
			}						
		}
	}
	
	option = {
		name = "environmental_protection"
		
		modifier = {
			empire_size_penalty_mult = 0.10
		}
		
		policy_flags = {
			environmental_protection
		}
		
		on_enabled = {
			hidden_effect = {
				set_timed_country_flag = { flag = activate_environmental_protection days = 30 }
				country_event = { id = retile_mandate.4 }
			}
		}
		
		AI_weight = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}
			}		
		}
	}
	
	option = {
		name = "environmental_preservation"
		potential = {
			OR = {
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
			}
		}
		
		modifier = {
			planet_amenities_add = -100
			planet_amenities_mult = -0.10
			planet_max_districts_add = -1
		}
		
		policy_flags = {
			environmental_protection
		}
		
		on_enabled = {
			hidden_effect = {
				set_timed_country_flag = { flag = activate_environmental_protection days = 30 }
				country_event = { id = retile_mandate.4 }
			}
		}
		
		AI_weight = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}
			}			
		}
	}
}

education = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}
	
	option = {
		name = "education_for_profit"
		
		modifier = {
			trade_value_mult = 0.10
			planet_researchers_produces_mult = -0.20
		}
		
		potential = {
			NOT = { has_valid_civic = civic_shared_burden }
			NOT = { has_valid_civic = civic_anarchist }
		}
		
		policy_flags = {
			education_for_profit
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}
			}		
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
		}
	}
	
	option = {
		name = "education_public_private"
		
		modifier = {
			pop_government_ethic_attraction = 0.10
		}
		
		potential = {
			NOT = { has_valid_civic = civic_anarchist }
			NOT = { has_authority = auth_corporate }
		}
		
		policy_flags = {
			education_public_private
		}
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}			
		}
	}
	
	option = {
		name = "education_corporate"
		
		modifier = {
			pop_government_ethic_attraction = 0.10
		}
		
		potential = {
			NOT = { has_valid_civic = civic_anarchist }
			has_authority = auth_corporate
		}
		
		policy_flags = {
			education_public_private
		}
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}			
		}
	}
	
	option = {
		name = "education_for_all"
		
		modifier = {
			empire_size_penalty_mult = 0.10
			planet_researchers_produces_mult = 0.20
		}
		
		policy_flags = {
			education_for_all
		}
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}			
		}
	}
}

healthcare = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}
	
	option = {
		name = "healthcare_for_profit"
		
		modifier = {
			trade_value_mult = 0.10
			pop_environment_tolerance = -0.10
		}
		
		potential = {
			NOT = { has_valid_civic = civic_shared_burden }
			NOT = { has_valid_civic = civic_anarchist }
		}
		
		policy_flags = {
			healthcare_for_profit
		}
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}			
		}
	}
	
	option = {
		name = "healthcare_public_private"
		
		policy_flags = {
			healthcare_public_private
		}
		
		potential = {
			NOT = { has_valid_civic = civic_anarchist }
			NOT = { has_authority = auth_corporate }
		}
		
		modifier = {
			pop_growth_speed = 0.10
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_pacifist
					has_ethic = ethic_fanatic_pacifist
				}
			}			
		}
	}
	
	option = {
		name = "healthcare_corporate"
		
		policy_flags = {
			healthcare_public_private
		}
		
		potential = {
			NOT = { has_valid_civic = civic_anarchist }
			has_authority = auth_corporate
		}
		
		modifier = {
			pop_growth_speed = 0.10
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_pacifist
					has_ethic = ethic_fanatic_pacifist
				}
			}			
		}
	}
	
	option = {
		name = "healthcare_universal"
		
		modifier = {
			empire_size_penalty_mult = 0.10
			pop_growth_speed = 0.10
			pop_environment_tolerance = 0.10
		}
		
		policy_flags = {
			healthcare_universal
		}
		
		AI_weight = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}
			}			
		}
	}
}

trade_policy = {
	potential = {	
		NOT = { has_ethic = ethic_gestalt_consciousness }
	}

	option = {
		name = "trade_policy_default"
		
		policy_flags = {
			trade_conversion_default
		}
		
		on_enabled = {
			hidden_effect = {
				set_timed_country_flag = { flag = activate_trade_conversion_default days = 30 }
				country_event = { id = retile_mandate.4 }
			}
		}
		
		AI_weight = {
			factor = 2
		}
	}

	option = {
		name = "trade_policy_consumer_goods"
		
		policy_flags = {
			trade_conversion_consumer_goods
		}
		
		on_enabled = {
			hidden_effect = {
				set_timed_country_flag = { flag = activate_trade_conversion_consumer_goods days = 30 }
				country_event = { id = retile_mandate.4 }
			}
		}
		
		modifier = {}
		
		AI_weight = {
			factor = 0
			
        }
	}
	
	option = {
		name = "trade_policy_unity"
		
		policy_flags = {
			trade_conversion_unity
		}
		
		potential = {
			has_technology = tech_space_trading
		}
		
		modifier = {}
		
		AI_weight = {
			factor = 0
		}
	}	

	
	
	option = {
		name = "trade_policy_research"
		
		potential = {
			has_technology = tech_space_trading
		}
		
		policy_flags = {
			trade_conversion_research
		}		
		
		modifier = {}
		
		AI_weight = {
			factor = 1
			modifier = {
				factor = 10
				any_neighbor_country = {
					is_country_type = default
					prev = {
						relative_power = {
							who = prev
							category = technology 
							value > inferior
						}
						OR = {
							NOT = { relative_power = {
								who = prev 
								category = all
								value = overwhelming
							} }
							NOT = { relative_power = {
								who = prev 
								category = all
								value < equivalent
							} }
						}
					}
				}
			}
		}
	}

	option = {
		name = "trade_policy_influence"
		
		potential = {
			has_technology = tech_interstellar_economics
			NOT = { has_tradition = tr_prosperity_finish }
		}
		
		policy_flags = {
			trade_conversion_influence
		}		
		
		modifier = {
			country_base_influence_produces_add = 1
		}
		
		AI_weight = {
			factor = 0
		}
	}
	
	option = {
		name = "trade_policy_influence_advanced"
		
		potential = {
			has_technology = tech_interstellar_economics
			has_tradition = tr_prosperity_finish
		}
		
		policy_flags = {
			trade_conversion_influence
		}		
		
		modifier = {
			country_base_influence_produces_add = 1.25
		}
		
		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "trade_policy_ai"
		
		potential = {
			is_ai = yes
		}
		
		policy_flags = {
			trade_conversion_ai
		}
		
		AI_weight = {
			factor = 100
		}
	}
	
	option = {
		name = "trade_policy_ai_advanced"
		
		potential = {
			AND = {
				is_ai = yes
				has_technology = tech_space_trading
			}
		}
		
		policy_flags = {
			trade_conversion_ai_advanced
		}
		
		AI_weight = {
			factor = 200
		}
	}
}

appropriation = {
	potential = {
		has_encountered_other_species = yes
		NOT = { has_ethic = ethic_gestalt_consciousness }
	}
	
	option = {
		name = "appropriation_not_allowed"
		
		policy_flags = {
			appropriation_not_allowed
		}
		
		AI_weight = {
			modifier = {
				factor = 5
				has_ai_personality_behaviour = multispecies
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}
		}
	}
	
	option = {
		name = "appropriation_allowed"
		
		policy_flags = {
			appropriation_allowed
		}
		
		potential = {
			NOT = { has_valid_civic = civic_anarchist }
		}
		
		valid = {
			NOT = { has_policy_flag = alien_full_rights }
		}
		
		AI_weight = {
			modifier = {
				factor = 5
				NOT = { has_ai_personality_behaviour = multispecies }
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}
		}
	}
}

leader_enhancement = {

	potential = { 
		has_technology = tech_selected_lineages
		NOT = { has_ethic = ethic_gestalt_consciousness }
	}
	
	option = {
		name = "leader_enhancement_natural_selection"
		
		policy_flags = {
			leader_enhancement_natural_selection
		}
		
		on_enabled = {
			# custom_tooltip = "policy_allow_slavery_effect_disable"
		}
		
		modifier = {}
		
	}
	
	option = {
		name = "leader_enhancement_selected_lineages"
		
		policy_flags = {
			leader_enhancement_selected_lineages
		}
		modifier = {
			leader_skill_levels = 1
			leader_age = 10
			leaders_cost_mult = 0.5
		}
		
		AI_weight = {
			factor = 2
		}
		
		prerequisites = { tech_selected_lineages }
	}
	
	option = {
		name = "leader_enhancement_capacity_boosters"
		
		policy_flags = {
			leader_enhancement_capacity_boosters
		}
		modifier = {
			leader_skill_levels = 2
			leader_age = 20
			leaders_cost_mult = 1
		}
		
		prerequisites = { tech_capacity_boosters }
		
		AI_weight = {
			factor = 3
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_egalitarian"
					has_ethic = "ethic_fanatic_egalitarian"
				}				
			}
		}
	}
}

first_contact_protocol = {

	potential = { NOT = { has_ethic = ethic_gestalt_consciousness } }
	
	option = {
		name = "first_contact_attack_not_allowed"
		
		policy_flags = {
			first_contact_attack_not_allowed
			border_policy_open
		}
		
		potential = {
			NOR = {
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = "civic_machine_terminator"
				has_valid_civic = civic_inwards_perfection
			}
		}
		
		AI_weight = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}				
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_pacifist
					has_ethic = ethic_fanatic_pacifist
				}				
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
				}				
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
				}				
			}
		}
	}
	
	option = {
		name = "first_contact_isolation"
		
		policy_flags = {
			first_contact_attack_not_allowed
			border_policy_closed
		}
		
		potential = {
			NOR = {
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = "civic_machine_terminator"
			}
		}
		
		AI_weight = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
				}				
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
				}				
			}
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = isolationist
			}
		}
	}
	
	option = {
		name = "first_contact_attack_allowed"
		
		policy_flags = {
			first_contact_attack_allowed
			border_policy_closed
		}
		modifier = {}
		
		potential = { 
			NOR = { 
				has_valid_civic = civic_pacifist
				has_valid_civic = civic_inwards_perfection
			}
		}
		
		AI_weight = {
			factor = 0
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}				
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_pacifist
					has_ethic = ethic_fanatic_pacifist
				}				
			}
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = attack_neutrals
			}
		}
	}
}

diplomatic_stance = {
	potential = {
		OR = {
			is_country_type = default
			is_country_type = fallen_empire
			is_country_type = awakened_fallen_empire
			is_country_type = primitive
			is_country_type = awakened_marauders
		}
		is_gestalt = no
	}

	option = {
		name = "diplo_stance_belligerent"
		icon = "GFX_diplomatic_stance_belligerent"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}

			is_homicidal = no # They have their own variants of this
			NOT = { has_valid_civic = civic_inwards_perfection }
		}

		policy_flags = {
			diplo_stance_belligerent
		}

		modifier = {
			country_war_exhaustion_mult = -0.1
			country_naval_cap_mult = 0.1
			country_claim_influence_cost_mult = -0.1
		}

		ai_weight = {
			weight = 10

			modifier = {
				factor = 0
				NOT = { has_country_flag = has_encountered_other_empire }
			}

			# Pacifists
			modifier = { # Fanatic Pacifists can *only* go belligerent if they are at war or there's a rival neighbor...
				factor = 0
				has_ethic = ethic_fanatic_pacifist
				NOR = {
					is_at_war = yes
					any_neighbor_country = {
						is_rival = root
					}
				}
			}
			modifier = { # Regular Pacifists have only a small chance to go belligerent if they are not at war or there's a rival neighbor...
				factor = 0.5
				has_ethic = ethic_pacifist
				NOR = {
					is_at_war = yes
					any_neighbor_country = {
						is_rival = root
					}
				}
			}
			modifier = {
				factor = 0.5 # ...but they're still less likely to.
				is_pacifist = yes
			}

			# Angry people like to be belligerent
			modifier = {
				factor = 2.0
				has_ethic = ethic_fanatic_militarist
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_militarist
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 1.25
				has_ethic = ethic_authoritarian
			}
			modifier = {
				factor = 5.0 # Intentionally high value for despoilers/Nihilistic Acquisition
				is_slaver = yes
			}
			modifier = {
				factor = 1.5
				has_valid_civic = civic_nationalistic_zeal
			}
			modifier = {
				factor = 1.5
				OR = {
					has_valid_civic = civic_hive_strength_of_legions
					has_valid_civic = civic_machine_warbots
					has_valid_civic = civic_private_military_companies
					has_valid_civic = civic_warrior_culture
				}
			}

			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = conqueror
			}
			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = subjugator
			}

			modifier = {
				factor = 3.0 # Blocked in propagators get ANGRY
				has_ai_expansion_plan = no
				has_ai_personality_behaviour = propagator
			}
		}
	}

	option = {
		name = "diplo_stance_cooperative"
		icon = "GFX_diplomatic_stance_cooperative"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			is_unfriendly = no # Not homicidal or barbaric despoilers
			NOT = { has_valid_civic = civic_inwards_perfection }
		}

		policy_flags = {
			diplo_stance_cooperative
		}

		modifier = {
			diplo_weight_mult = 0.25
			envoy_improve_relations_mult = 0.5
			country_border_friction_mult = -0.5
		}

		ai_weight = {
			weight = 10

			modifier = {
				factor = 0
				NOT = { has_country_flag = has_encountered_other_empire }
			}

			# Tons of Ethics modifiers!
			# Cranky people:
			modifier = {
				factor = 0
				has_ethic = ethic_fanatic_xenophobe
			}
			modifier = {
				factor = 0.1
				has_ethic = ethic_xenophobe
			}
			modifier = {
				factor = 0.5
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 0.75
				has_ethic = ethic_authoritarian
			}

			# Nice people:
			modifier = {
				factor = 2.0
				has_ethic = ethic_fanatic_xenophile
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_xenophile
			}
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_pacifist
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_pacifist
			}
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_egalitarian
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_egalitarian
			}
			modifier = {
				factor = 1.1
				has_ethic = ethic_fanatic_materialist
			}
			modifier = {
				factor = 1.05
				has_ethic = ethic_materialist
			}

			modifier = {
				factor = 1.25
				has_ai_personality_behaviour = multispecies
			}

			modifier = {
				factor = 3.0
				has_ai_personality = federation_builders
			}
		}
	}

	option = {
		name = "diplo_stance_isolationist"
		icon = "GFX_diplomatic_stance_isolationist"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			is_homicidal = no # Homicidal variants below
			is_megacorp = no  # "NO! YOU CAN'T BUY OUR STUFF!" makes the shareholders sad
		}

		policy_flags = {
			diplo_stance_isolationist
		}

		modifier = {
			country_admin_cap_mult = 0.15
			country_unity_produces_mult = 0.10
			diplo_weight_mult = -0.50
			diplomacy_upkeep_mult = 1
			pop_government_ethic_attraction = 0.25
			country_border_friction_mult = 2.0
		}

		on_enabled = {
		}

		ai_weight = {
			weight = 10

			modifier = {
				factor = 0.25 # Let the isolationists start in this if they want
				NOT = { has_country_flag = has_encountered_other_empire }
			}

			modifier = {
				factor = 0
				OR = {
					has_ai_personality = federation_builders
					has_ai_personality = fanatic_befrienders
				}
			}

			modifier = {
				factor = 100.0 # Inwards Perfection should almost always go isolationist
				has_valid_civic = civic_inwards_perfection
			}

			modifier = {
				factor = 3.0
				has_ai_personality_behaviour = isolationist
			}

			modifier = {
				factor = 2.0
				is_xenophobe = yes
				is_militarist = no
				is_authoritarian = no
			}
		}
	}

	option = {
		name = "diplo_stance_expansionist"
		icon = "GFX_diplomatic_stance_expansionist"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			is_homicidal = no
		}

		policy_flags = {
			diplo_stance_expansionist
		}

		modifier = {
			starbase_outpost_cost_mult = -0.10
			planet_colony_development_speed_mult = 0.15
			country_border_friction_mult = 1.0
		}

		ai_weight = {
			weight = 10

			modifier = {
				factor = 2
				NOT = { has_country_flag = has_encountered_other_empire }
			}
		}
	}

	option = {
		name = "diplo_stance_mercantile"
		icon = "GFX_diplomatic_stance_mercantile"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			OR = {
				is_megacorp = yes
				has_civic = civic_corporate_dominion
				has_civic = civic_merchant_guilds
			}
			NOT = { has_valid_civic = civic_inwards_perfection }
		}

		policy_flags = {
			diplo_stance_mercantile
		}

		modifier = {
			diplo_weight_economy_mult = 0.25
			trade_value_mult = 0.1
			local_trade_protection_add = 5
		}

		ai_weight = {
			weight = 10

			modifier = {
				factor = 3.0
				is_megacorp = yes # Megacorps should generally prefer this diplo stance unless their ethics get them to specialize differently
			}
			modifier = {
				factor = 1.25
				has_valid_civic = civic_free_traders
			}
			modifier = {
				factor = 0.65
				OR = {
					has_valid_civic = civic_private_prospectors
					has_valid_civic = civic_private_military_companies
				}
			}
		}
	}

	option = {
		name = "diplo_stance_supremacist"
		icon = "GFX_diplomatic_stance_supremacy"

		potential = {
			is_homicidal = no
			OR = {
				is_country_type = awakened_fallen_empire
				is_country_type = awakened_marauders
				is_country_type = default
			}
			NOT = { has_valid_civic = civic_inwards_perfection }
		}

		valid = {
			NOT = { has_modifier = humiliated }

			OR = {
				has_tradition = tr_supremacy_finish
				NOT = { is_country_type = default }
			}
			is_subject = no
		}

		policy_flags = {
			diplo_stance_supremacist
		}

		modifier = {
			diplo_weight_naval_mult = 1.00
			country_war_exhaustion_mult = -0.20
			country_naval_cap_mult = 0.20
			country_claim_influence_cost_mult = -0.1
		}

		on_enabled = {
		}

		ai_weight = {
			weight = 10

			modifier = {
				factor = 0
				NOT = { has_country_flag = has_encountered_other_empire }
			}

			modifier = {
				factor = 0
				is_pacifist = yes
			}

			modifier = {
				factor = 10
				OR = {
					is_country_type = awakened_fallen_empire
					is_country_type = awakened_marauders
				}
			}

			# Angry people want to be Supreme
			modifier = {
				factor = 2.0
				has_ethic = ethic_fanatic_militarist
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_militarist
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 1.25
				has_ethic = ethic_authoritarian
			}
			modifier = {
				factor = 1.25 # Despoilers/Nihilistic Acquisition intentionally get a higher multiplier for Belligerent than Supremacist
				is_slaver = yes
			}
			modifier = {
				factor = 2
				has_valid_civic = civic_nationalistic_zeal
			}
			modifier = {
				factor = 3
				OR = {
					has_valid_civic = civic_hive_strength_of_legions
					has_valid_civic = civic_machine_warbots
					has_valid_civic = civic_private_military_companies
					has_valid_civic = civic_warrior_culture
				}
			}

			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = conqueror
			}
			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = subjugator
			}

			modifier = { # Don't be suicidal
				factor = 0
				any_relation = {
					has_communications = root
					has_policy_flag = diplo_stance_supremacist
					is_country_type = default
					is_subject = no
					relative_power = {
						who = root
						category = fleet
						value = overwhelming
					}
				}
			}
			modifier = {
				factor = 0.25
				any_neighbor_country = {
					has_communications = root
					is_country_type = default
					is_subject = no
					relative_power = {
						who = root
						category = fleet
						value > equivalent
					}
				}
			}
		}
	}

	option = {
		name = "diplo_stance_extermination"
		icon = "GFX_diplomatic_stance_recompiling"

		potential = {
			has_valid_civic = civic_machine_terminator
		}

		policy_flags = {
			diplo_stance_extermination
		}

		modifier = {
		}

		ai_weight = {
			weight = 100
		}
	}

	option = {
		name = "diplo_stance_purification"
		icon = "GFX_diplomatic_stance_withdrawn"

		potential = {
			has_valid_civic = civic_fanatic_purifiers
		}

		policy_flags = {
			diplo_stance_purification
		}

		modifier = {
		}

		ai_weight = {
			weight = 100
		}
	}

	option = {
		name = "diplo_stance_isolationist_fallen_empire"
		icon = "GFX_diplomatic_stance_isolationist"

		potential = {
			is_country_type = fallen_empire
		}

		policy_flags = {
			diplo_stance_isolationist_fallen_empire
		}

		modifier = {
		}

		ai_weight = {
			weight = 100
		}
	}

	option = {
		name = "diplo_stance_primitive"
		icon = "GFX_diplomatic_stance_isolationist"

		potential = {
			is_country_type = primitive
		}

		policy_flags = {
			diplo_stance_primitive
		}

		modifier = {
		}

		ai_weight = {
			weight = 1
		}
	}

}

research_policy = {
	potential = { has_tradition = tr_discovery_finish }
	
	option = {
		name = "research_space_exploration"
		
		policy_flags = { research_space_exploration }
		
		modifier = {
			category_voidcraft_research_speed_mult = 0.20
			category_computing_research_speed_mult = 0.20
			category_new_worlds_research_speed_mult = 0.20
		}
		
		AI_weight = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_xenophobe
				}				
			}
			modifier = {
				factor = 3
				OR = {
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_fanatic_materialist
				}				
			}
		}
	}
	
	option = {
		name = "research_military_technology"
		
		policy_flags = { research_military_technology }
		
		modifier = {
			category_propulsion_research_speed_mult = 0.20
			category_particles_research_speed_mult = 0.20
			category_military_theory_research_speed_mult = 0.20
		}
		
		AI_weight = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_authoritarian
				}				
			}
			modifier = {
				factor = 3
				OR = {
					has_ethic = ethic_fanatic_authoritarian
					has_ethic = ethic_fanatic_militarist
				}				
			}
		}
	}
	
	option = {
		name = "research_economic_development"
		
		policy_flags = { research_economic_development }
		
		modifier = {
			category_industry_research_speed_mult = 0.20
			category_field_manipulation_research_speed_mult = 0.20
			category_statecraft_research_speed_mult = 0.20
		}
		
		AI_weight = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_pacifist
					has_ethic = ethic_egalitarian
				}				
			}
			modifier = {
				factor = 3
				OR = {
					has_ethic = ethic_fanatic_egalitarian
					has_ethic = ethic_fanatic_pacifist
				}				
			}
		}
	}
	
	option = {
		name = "research_xenoecology"
		
		policy_flags = { research_xenoecology }
		
		modifier = {
			category_materials_research_speed_mult = 0.20
			category_biology_research_speed_mult = 0.20
			category_psionics_research_speed_mult = 0.20
		}
		
		AI_weight = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_xenophile
				}				
			}
			modifier = {
				factor = 3
				OR = {
					has_ethic = ethic_fanatic_xenophile
					has_ethic = ethic_fanatic_spiritualist
				}				
			}
		}
	}
}

artificial_intelligence_policy = {

	potential = {	
		NOT = { has_ethic = ethic_gestalt_consciousness }
		can_set_ai_policy = yes
	}
	
	option = {
		name = "ai_outlawed"

		potential = {
			NOT = { has_country_flag = synthetic_empire }
			NOT = { has_valid_civic = civic_anarchist }
		}

		policy_flags = {
			ai_outlawed
			robots_allowed
		}
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_materialist"
					has_ethic = "ethic_fanatic_materialist"
				}
			}
		}
	}
	
	option = {
		name = "ai_servitude"

		potential = {
			NOT = { has_country_flag = synthetic_empire }
			NOT = { has_valid_civic = civic_anarchist }
		}
		
		policy_flags = {
			ai_servitude
			robots_allowed
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = robot_exploiter
			}	
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = robot_liberator
			}				
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_egalitarian"
					has_ethic = "ethic_fanatic_egalitarian"
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_authoritarian"
					has_ethic = "ethic_fanatic_authoritarian"
				}
			}
		}
	}
	
	option = {
		name = "ai_full_rights"

		valid = {
			always = yes
		}
		
		policy_flags = {
			ai_full_rights
			robots_allowed
		}
		
		modifier = {}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_egalitarian"
					has_ethic = "ethic_fanatic_egalitarian"
				}
			}	
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_authoritarian"
					has_ethic = "ethic_fanatic_authoritarian"
				}
			}			
			modifier = {
				factor = 1
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = robot_liberator
			}		
		}
	}
}

pre_sapients = {
	potential = {	
		OR = {
			has_country_flag = found_presapients
			any_planet_within_border = {
				any_pop = {
					is_sapient = no
				}
			}			
		}
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}
	
	option = {
		name = "pre_sapients_protect"
		
		potential = {
			NOR = {
				has_valid_civic = civic_machine_terminator
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_fanatic_purifiers
			}		
		}
		
		policy_flags = {
			pre_sapients_protect
		}
		
		potential = {
			NOT = { has_valid_civic = civic_anarchist }
		}
		
		AI_weight = {
			modifier = {
				factor = 0.5
				NOT = { has_ai_personality_behaviour = multispecies }
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_xenophile"
					has_ethic = "ethic_fanatic_xenophile"
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_xenophobe"
				}
			}
		}
	}	
	
	option = {
		name = "pre_sapients_allow"
		
		potential = {
			NOR = {
				has_valid_civic = civic_machine_terminator
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_fanatic_purifiers
			}		
		}
		
		policy_flags = {
			pre_sapients_allow
		}
		
		AI_weight = {
			factor = 1
		}
	}
	
	option = {
		name = "pre_sapients_eat"
		
		potential = {
			host_has_dlc = "Utopia"
			is_synthetic_empire = no
			NOR = {
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_anarchist
				has_valid_civic = civic_pacifist
			}
		}
		
		policy_flags = {
			pre_sapients_eat
		}
		
		modifier = {}
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_xenophile"
					has_ethic = "ethic_fanatic_xenophile"
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
				}
			}
		}
	}	
	
	option = {
		name = "pre_sapients_purge"
		
		policy_flags = {
			pre_sapients_purge
		}
		
		potential = {
			NOR = { 
				has_valid_civic = civic_anarchist
				has_valid_civic = civic_pacifist
			}
		}
		
		modifier = {}
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_xenophile"
					has_ethic = "ethic_fanatic_xenophile"
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_xenophobe"
				}
			}
		}
	}
}

interference = {

	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}
	
	option = {
		name = "interference_passive"
		
		potential = {
			NOR = {
				is_subject_type = signatory				
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_hive_devouring_swarm
			}
		}
		
		policy_flags = {
			interference_passive
			enlightenment_not_allowed
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_xenophile"
					has_ethic = "ethic_fanatic_xenophile"
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_spiritualist"
					has_ethic = "ethic_fanatic_spiritualist"
				}
			}
		}
	}
	
	option = {
		name = "interference_active"
		
		policy_flags = { 
			interference_active
			enlightenment_allowed
		}
		
		potential = {
			NOR = {
				is_subject_type = signatory				
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = civic_inwards_perfection
			}
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
				}
			}
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = uplifter
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOT = { has_ai_personality_behaviour = uplifter }
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_spiritualist"
					has_ethic = "ethic_fanatic_spiritualist"
				}
			}
		}
	}
	option = {
		name = "interference_full"
		
		potential = {
			NOT = { has_valid_civic = civic_inwards_perfection }
		}
		valid = {
			NOT = { is_subject_type = signatory }
		}
		policy_flags = {
			interference_full
			enlightenment_allowed
		}
		modifier = {}
		AI_weight = {
			modifier = {
				factor = 3
				has_valid_ai_personality = yes
				OR = {
					has_ai_personality_behaviour = infiltrator
					has_ai_personality_behaviour = dominator
				}
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOR = {
					has_ai_personality_behaviour = infiltrator
					has_ai_personality_behaviour = dominator
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_xenophile"
					has_ethic = "ethic_fanatic_xenophile"
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_spiritualist"
					has_ethic = "ethic_fanatic_spiritualist"
				}
			}
		}
	}
}

alien_rights = {
	potential = {
		has_encountered_other_species = yes
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}
	
	option = {
		name = "alien_full_rights"
		
		potential = {
			NOR = {		
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_hive_devouring_swarm
			}
		}
		
		policy_flags = {
			alien_full_rights
		}
		
		on_enabled = {
			hidden_effect = {
				set_timed_country_flag = { flag = activate_alien_full_rights days = 30 }
				country_event = { id = retile_mandate.4 }
			}
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_xenophile"
					has_ethic = "ethic_fanatic_xenophile"
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_xenophobe"
				}
			}
		}
	}
	
	option = {
		name = "alien_limited_rights"
		
		potential = {
			NOR = { 
				has_valid_civic = civic_anarchist
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_hive_devouring_swarm
			}
		}
		
		policy_flags = {
			alien_limited_rights
		}
		
	}
	
	option = {
		name = "alien_no_rights"
		
		policy_flags = {
			alien_no_rights
		}
		
		potential = {
			NOT = { has_valid_civic = civic_anarchist }
		}
		
		on_enabled = {
			hidden_effect = {
				set_timed_country_flag = { flag = activate_alien_no_rights days = 30 }
				country_event = { id = retile_mandate.4 }
			}
		}
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_xenophile"
					has_ethic = "ethic_fanatic_xenophile"
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_xenophobe"
				}
			}
		}
	}
}

refugees = {
	potential = {
		has_encountered_other_species = yes
		is_country_type = default
		OR = {
			NOT = { has_ethic = "ethic_gestalt_consciousness" }
			has_valid_civic = civic_machine_servitor
		}	
	}
	
	option = {
		name = "refugees_not_allowed"
		
		policy_flags = {
			refugees_not_allowed
		}
		
		potential = {
			NOT = { has_valid_civic = civic_anarchist }
		}
		
		valid = {
			NOT = { has_valid_civic = civic_free_haven }
		}
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_xenophile"
					has_ethic = "ethic_fanatic_xenophile"
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_xenophobe"
				}
			}
		}
	}
	
	option = {
		name = "refugees_only_citizens"
		
		potential = {
			NOT = { has_ethic = "ethic_gestalt_consciousness" }
		}
		
		policy_flags = {
			refugees_only_citizens
		}
		
		potential = {
			NOR = { 
				has_authority = auth_hive_mind
				has_valid_civic = civic_anarchist
			}
		}
		
		valid = {
			NOT = { has_valid_civic = civic_free_haven }
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}
		}
	}
	
	option = {
		name = "refugees_allowed"
		
		potential = {
			NOR = {
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_inwards_perfection
			}
		}
		
		policy_flags = {
			refugees_allowed
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}
		}
	}
}

slavery = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}
	
	option = {
		name = "slavery_not_allowed"

		valid = {
			NOR = {
				has_valid_civic = civic_slaver_guilds
				has_valid_civic = civic_indentured_assets
			}
		}
		
		policy_flags = {
			slavery_not_allowed
			resettlement_not_allowed
		}
		
		on_enabled = {
			hidden_effect = { every_owned_planet = { remove_modifier = slave_colony } }
		}		

		modifier = {
			slave_market_cost_mult = 1
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}
		}
	}
	
	option = {
		name = slavery_secretly_allowed
		
		potential = {
			NOR = {
				has_valid_civic = civic_shared_burden
				has_valid_civic = civic_anarchist
			}
		}
		
		policy_flags = {
			slavery_secretly_allowed
			resettlement_allowed
		}
		
		on_enabled = {
			hidden_effect = { every_owned_planet = { remove_modifier = slave_colony } }
		}
		
		modifier = {
			slave_market_cost_mult = 0.5
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}
			}
		}
	}
	
	option = {
		name = "slavery_allowed"
		
		potential = {
			NOR = { 
				has_valid_civic = civic_shared_burden
				has_valid_civic = civic_anarchist
			}
		}
		
		valid = {
			NOT = { is_subject_type = signatory }
		}
		
		policy_flags = {
			slavery_allowed
			resettlement_allowed
		}
		modifier = {
		
		}
		
		AI_weight = {
			modifier = {
				factor = 0.5
				has_valid_ai_personality = yes
				NOT = { has_ai_personality_behaviour = slaver }
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}			
		}
	}
}

purge = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}
	
	option = {
		name = "purge_not_allowed"
		
		potential = {
			NOR = { 
				has_ethic = ethic_gestalt_consciousness
				has_valid_civic = civic_fanatic_purifiers
			}
		}
		
		policy_flags = {
			purge_not_allowed
		}
		
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
				}
			}
		}
	}
	
	option = {
		name = "purge_displacement_only"
		
		policy_flags = {
			purge_displacement_only
		}

		modifier = {}
		
		potential = {
			NOR = { 
				has_ethic = ethic_gestalt_consciousness
				has_valid_civic = civic_fanatic_purifiers
			}
		}
		
		valid = {
			NOT = { is_subject_type = signatory }
		}
		
		AI_weight = {
			factor = 5
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = multispecies
			}
		}
	}	
	
	option = {
		name = "purge_allowed"
		
		policy_flags = {
			purge_allowed
		}
		modifier = {}
		
		potential = {		
			NOR = { 
				has_valid_civic = civic_anarchist
				has_valid_civic = civic_pacifist
			}
		}
		
		valid = {
			NOT = { is_subject_type = signatory }
		}
		
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
				}
			}
			modifier = {
				factor = 0.5
				has_valid_ai_personality = yes
				NOT = { has_ai_personality_behaviour = purger }
			}
		}
	}
}

population_controls = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}
	
	option = {
		name = "population_controls_not_allowed"
		
		potential = {
			NOT = {	has_valid_civic = civic_fanatic_purifiers }
		}
		
		modifier = {
			pop_happiness = 0.05
		}
		
		policy_flags = {
			population_controls_not_allowed
		}
		
		AI_weight = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}			
		}
	}
	
	option = {
		name = "population_controls_mixed"
		
		policy_flags = {
			population_controls_mixed
		}
		
		modifier = { 
			pop_growth_speed = 0.10
		}
		
		potential = {
			NOR = { 
				has_valid_civic = civic_shared_burden
				has_valid_civic = civic_anarchist
			}
		}
		
		AI_weight = {
			factor = 0
			modifier = {
				factor = 3
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}			
		}
	}
	
	option = {
		name = "population_controls_allowed"
		
		valid = {
			has_policy_flag = purge_allowed
		}
		
		policy_flags = {
			population_controls_allowed
		}
		
		modifier = { 
			pop_growth_speed = 0.20
			pop_happiness = -0.05
		}
		
		potential = {
			NOR = { 
				has_valid_civic = civic_shared_burden
				has_valid_civic = civic_anarchist
			}
		}
		
		AI_weight = {
			factor = 0
			modifier = {
				factor = 3
				OR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
				}
			}			
		}
	}
}

internal_migration = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}
	
	option = {
		name = "migration_allowed"
		
		valid = { NOT = { has_valid_civic = civic_corvee_system } }
		
		policy_flags = { migration_allowed }
		
		AI_weight = {
			factor = 1
		}
	}
	option = {
		name = "migration_limited"
		
		valid = { NOT = { has_valid_civic = civic_corvee_system } }
		
		policy_flags = { migration_limited }
		
		AI_weight = {
			factor = 0
		}
	}
	option = {
		name = "migration_forbidden"
		
		valid = { has_valid_civic = civic_corvee_system }
		
		policy_flags = { migration_forbidden }
		
		AI_weight = {
			factor = 1
		}
	}
}

foreign_migration = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
		OR = {
			has_federation = yes
			any_relation = { has_diplo_migration_treaty = root }
		}
	}
	
	option = {
		name = "foreign_migration_all"
		
		policy_flags = { foreign_migration_all }
		
		AI_weight = {
			factor = 1
		}
	}
	option = {
		name = "foreign_migration_ethics"
		
		policy_flags = { foreign_migration_ethics }
		
		AI_weight = {
			factor = 0
		}
	}
}

unused_flags = {
	potential = { always = no }
	
	option = {
		name = "unused_flags_bin"
		
		policy_flags = {
			diplo_stance_expansionist
			diplo_stance_supremacist
			economic_policy_military
			trade_conversion_consumer_goods
			trade_conversion_unity
			trade_conversion_trade_league
		}
		
		AI_weight = {
			factor = 0
		}
	}
	
}